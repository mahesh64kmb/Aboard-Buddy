{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/services\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/shared/services\";\nimport * as i5 from \"@angular/common\";\nfunction ProfileComponent_div_16_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.updateError);\n  }\n}\nfunction ProfileComponent_div_16_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.updateSuccess);\n  }\n}\nfunction ProfileComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, ProfileComponent_div_16_p_1_Template, 2, 1, \"p\", 27);\n    i0.ɵɵtemplate(2, ProfileComponent_div_16_p_2_Template, 2, 1, \"p\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.updateError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.updateSuccess);\n  }\n}\nfunction ProfileComponent_option_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r5 == null ? null : country_r5.country_id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r5 == null ? null : country_r5.name, \" \");\n  }\n}\nfunction ProfileComponent_option_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const city_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", city_r6 == null ? null : city_r6.city_id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", city_r6 == null ? null : city_r6.name, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    background: a0\n  };\n};\nexport class ProfileComponent {\n  constructor(fb, userService, router, dataService) {\n    this.fb = fb;\n    this.userService = userService;\n    this.router = router;\n    this.dataService = dataService;\n    this.updateError = '';\n    this.updateSuccess = '';\n    this.userId = '';\n    this.countries = [];\n    this.cities = [];\n    this.universities = [];\n    this.userDetails = {};\n    this.profileImgUrl = \"http://dairysystem.in/Buddy/admin/uploads/student/no_image.png\";\n  }\n  ngOnInit() {\n    this.userId = localStorage.getItem('userId');\n    this.profileForm = this.fb.group({\n      student_id: [this.userId],\n      first_name: ['', Validators.required],\n      last_name: ['', Validators.required],\n      phone: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      country_id: [''],\n      city_id: [''],\n      profile_pic: [''],\n      how_many: ['', Validators.required]\n    });\n    this.getProfile();\n  }\n  // Image Preview\n  onChangeImage(event) {\n    const reader = new FileReader();\n    if (event.target.files && event.target.files.length) {\n      const [file] = event.target.files;\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        this.profileImgUrl = reader.result;\n        this.profileForm.get('profile_pic')?.patchValue(event.target.files[0]);\n      };\n    }\n  }\n  getProfile() {\n    let data = new FormData();\n    data.append('student_id', this.userId);\n    this.userService.getProfile(data).subscribe(res => {\n      this.userDetails = res?.data ? res?.data : {};\n      this.profileForm.patchValue(this.userDetails);\n      this.profileImgUrl = this.userDetails?.profile_pic ? this.userDetails?.profile_pic : this.profileImgUrl;\n      this.getCountries(true);\n      this.onChangeCountry(true);\n      this.onChangeCity(true);\n    });\n  }\n  updateProfile() {\n    this.updateError = \"\";\n    this.updateSuccess = \"\";\n    this.isLoading = true;\n    this.submited = true;\n    if (this.profileForm.invalid) {\n      this.updateError = \"All fields are required*\";\n      this.profileForm.markAllAsTouched();\n      this.isLoading = false;\n      return;\n    }\n    let value = this.profileForm.value;\n    let keys = Object.keys(value);\n    let data = new FormData();\n    keys.forEach(key => {\n      data.append(key, value[key]);\n    });\n    this.userService.updateSellerProfile(data).subscribe(res => {\n      if (res?.status == '200') {\n        this.dataService.getUpdatedUserInfo();\n        this.updateSuccess = \"Profile updated successfully. Redirecting...\";\n        setTimeout(() => {\n          this.router.navigate(['/seller/advertise/post-add']);\n          this.isLoading = false;\n        }, 1500);\n      } else {\n        this.isLoading = false;\n        this.updateError = res?.message ? res?.message : 'Something went wrong, try again';\n      }\n    }, error => {\n      this.updateError = 'Something went wrong, try again';\n      this.isLoading = false;\n    });\n  }\n  get getControls() {\n    return this.profileForm.controls;\n  }\n  getCountries(isEdit = false) {\n    this.userService.getCountries().subscribe(res => {\n      this.countries = res?.data ? res?.data : [];\n    });\n  }\n  onChangeCountry(isEdit = false) {\n    if (!isEdit) {\n      this.profileForm.get('city_id')?.patchValue('');\n      this.profileForm.get('university_id')?.patchValue('');\n      this.universities = [];\n    }\n    this.cities = [];\n    let data = new FormData();\n    data.append('country_id', this.profileForm.get('country_id')?.value);\n    this.userService.getCities(data).subscribe(res => {\n      this.cities = res?.data ? res?.data : [];\n    });\n  }\n  onChangeCity(isEdit = false) {\n    if (!isEdit) {\n      this.profileForm.get('university_id')?.patchValue('');\n      this.universities = [];\n    }\n    let data = new FormData();\n    data.append('city_id', this.profileForm.get('city_id')?.value);\n    this.userService.getUniversities(data).subscribe(res => {\n      this.universities = res?.data ? res?.data : [];\n    });\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.DataService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 56,\n  vars: 12,\n  consts: [[1, \"profileNAV\", 2, \"background\", \"url(assets/image/bgimage.jpeg)\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"profile-inner-box\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"col-md-3\"], [1, \"avatar-upload\"], [1, \"avatar-edit\"], [\"type\", \"file\", \"id\", \"imageUpload\", \"accept\", \".png, .jpg, .jpeg\", 3, \"change\"], [\"for\", \"imageUpload\"], [1, \"avatar-preview\"], [\"id\", \"imagePreview\", 3, \"ngStyle\"], [1, \"col-md-9\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"form-group\", \"col-md-6\", \"mb-3\"], [\"type\", \"\", \"for\", \"\", \"name\", \"\", \"placeholder\", \"\", \"formControlName\", \"first_name\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"\", \"for\", \"\", \"name\", \"\", \"placeholder\", \"\", \"formControlName\", \"last_name\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"email\", \"for\", \"\", \"name\", \"\", \"placeholder\", \"\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"text\", \"for\", \"\", \"name\", \"\", \"placeholder\", \"\", \"formControlName\", \"phone\", 1, \"form-control\", 3, \"ngClass\"], [\"formControlName\", \"country_id\", 1, \"form-control\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"city_id\", 1, \"form-control\"], [1, \"form-group\", \"col-md-12\", \"mb-3\"], [\"type\", \"text\", \"name\", \"how_many\", \"placeholder\", \"How many years you benn residence of that city?\", \"required\", \"\", \"formControlName\", \"how_many\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"submit\", \"value\", \"Submit\", 1, \"full-width\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"], [3, \"value\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.updateProfile();\n      });\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"input\", 9);\n      i0.ɵɵlistener(\"change\", function ProfileComponent_Template_input_change_10_listener($event) {\n        return ctx.onChangeImage($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"label\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 11);\n      i0.ɵɵelement(13, \"div\", 12);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"div\", 13)(15, \"div\", 2);\n      i0.ɵɵtemplate(16, ProfileComponent_div_16_Template, 3, 2, \"div\", 14);\n      i0.ɵɵelementStart(17, \"h3\");\n      i0.ɵɵtext(18, \" Information \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 15)(20, \"label\");\n      i0.ɵɵtext(21, \" First Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 15)(24, \"label\");\n      i0.ɵɵtext(25, \" Last Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 15)(28, \"label\");\n      i0.ɵɵtext(29, \" Email \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 15)(32, \"label\");\n      i0.ɵɵtext(33, \" Phone Number \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(34, \"input\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 15)(36, \"label\");\n      i0.ɵɵtext(37, \"Country\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"select\", 20);\n      i0.ɵɵlistener(\"change\", function ProfileComponent_Template_select_change_38_listener() {\n        return ctx.onChangeCountry();\n      });\n      i0.ɵɵelementStart(39, \"option\", 21);\n      i0.ɵɵtext(40, \" Select Country \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(41, ProfileComponent_option_41_Template, 2, 2, \"option\", 22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 15)(43, \"label\");\n      i0.ɵɵtext(44, \"City\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"select\", 23)(46, \"option\", 21);\n      i0.ɵɵtext(47, \" Select City \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(48, ProfileComponent_option_48_Template, 2, 2, \"option\", 22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"div\", 24)(50, \"label\");\n      i0.ɵɵtext(51, \"How many years you benn residence of that city?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(52, \"input\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 3)(54, \"button\", 26);\n      i0.ɵɵtext(55, \" Post Add \");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c0, \"url(\" + ctx.profileImgUrl + \")\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.updateError || ctx.updateSuccess);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.first_name == null ? null : ctx.getControls.first_name.touched)) && (ctx.getControls == null ? null : ctx.getControls.first_name == null ? null : ctx.getControls.first_name.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.last_name == null ? null : ctx.getControls.last_name.touched)) && (ctx.getControls == null ? null : ctx.getControls.last_name == null ? null : ctx.getControls.last_name.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.email == null ? null : ctx.getControls.email.touched)) && (ctx.getControls == null ? null : ctx.getControls.email == null ? null : ctx.getControls.email.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.phone == null ? null : ctx.getControls.phone.touched)) && (ctx.getControls == null ? null : ctx.getControls.phone == null ? null : ctx.getControls.phone.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cities);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.how_many == null ? null : ctx.getControls.how_many.touched)) && (ctx.getControls == null ? null : ctx.getControls.how_many == null ? null : ctx.getControls.how_many.errors) ? \"invalid-input\" : \"\");\n    }\n  },\n  dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i5.NgStyle, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".profileNAV[_ngcontent-%COMP%] {\\r\\n    padding-bottom: 3rem;\\r\\n    background-size: cover !important;\\r\\n    height: 100%;\\r\\n    background-position: 100% !important;\\r\\n    overflow: hidden;\\r\\n    position: relative;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    max-width: 205px;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    right: 12px;\\r\\n    z-index: 1;\\r\\n    top: 10px;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n    display: none;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]    + label[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    width: 34px;\\r\\n    height: 34px;\\r\\n    margin-bottom: 0;\\r\\n    border-radius: 100%;\\r\\n    background: #fff;\\r\\n    border: 1px solid transparent;\\r\\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.12);\\r\\n    cursor: pointer;\\r\\n    font-weight: normal;\\r\\n    transition: all 0.2s ease-in-out;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]    + label[_ngcontent-%COMP%]:hover {\\r\\n    background: #f1f1f1;\\r\\n    border-color: #d6d6d6;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]    + label[_ngcontent-%COMP%]:after {\\r\\n    content: \\\"\\\\f040\\\";\\r\\n    font-family: 'FontAwesome';\\r\\n    color: #757575;\\r\\n    position: absolute;\\r\\n    top: 10px;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    text-align: center;\\r\\n    margin: auto;\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%] {\\r\\n    width: 192px;\\r\\n    height: 192px;\\r\\n    position: relative;\\r\\n    border-radius: 100%;\\r\\n    border: 6px solid #f8f8f8;\\r\\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n.avatar-upload[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    border-radius: 100%;\\r\\n    background-size: cover !important;\\r\\n    background-repeat: no-repeat !important;\\r\\n    background-position: center !important;\\r\\n    \\r\\n}\\r\\n\\r\\n\\r\\n.profile-inner-box[_ngcontent-%COMP%] {\\r\\n    margin: 2.3rem;\\r\\n    border: 1px solid #ddd;\\r\\n    padding: 1.7rem;\\r\\n    box-shadow: 1px 1px 12px 1px #00000021;\\r\\n    border-radius: 7px;\\r\\n    background: #fff;\\r\\n}\\r\\n.profile-inner-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n    text-transform: uppercase;\\r\\n    font-size: 17px;\\r\\n    font-weight: bold;\\r\\n    color: blue;\\r\\n    margin-bottom: 1rem;\\r\\n}\\r\\n.form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\\r\\n    width:48%;\\r\\n}\\r\\n.form-group.d-flex[_ngcontent-%COMP%]{\\r\\n    justify-content:space-between;\\r\\n}\\r\\n.profile-inner-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    background-color: #4834d4;\\r\\n    color: var(--loginSubmitColor);\\r\\n    font-weight: 550;\\r\\n    text-transform: uppercase;\\r\\n    border: 0;\\r\\n    padding: 11px 30px;\\r\\n    margin-top: 1rem;\\r\\n    float: right;\\r\\n    border-radius: 3px;\\r\\n}\\r\\n.full-width[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxsLW1vZHVsZXMvc2VsbGVyLXBhZ2VzL2FjY291bnRzL3Byb2ZpbGUvcHJvZmlsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0lBQ3BCLGlDQUFpQztJQUNqQyxZQUFZO0lBQ1osb0NBQW9DO0lBQ3BDLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsVUFBVTtJQUNWLFNBQVM7QUFDYjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLFdBQVc7SUFDWCxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsNkJBQTZCO0lBQzdCLCtDQUErQztJQUMvQyxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLGdDQUFnQztBQUNwQztBQUNBO0lBQ0ksbUJBQW1CO0lBQ25CLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLDBCQUEwQjtJQUMxQixjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxPQUFPO0lBQ1AsUUFBUTtJQUNSLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLDhDQUE4QztBQUNsRDtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsaUNBQWlDO0lBQ2pDLHVDQUF1QztJQUN2QyxzQ0FBc0M7O0FBRTFDOzs7QUFHQTtJQUNJLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsZUFBZTtJQUNmLHNDQUFzQztJQUN0QyxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSx5QkFBeUI7SUFDekIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxTQUFTO0FBQ2I7QUFDQTtJQUNJLDZCQUE2QjtBQUNqQztBQUNBO0lBQ0kseUJBQXlCO0lBQ3pCLDhCQUE4QjtJQUM5QixnQkFBZ0I7SUFDaEIseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLFdBQVc7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlTkFWIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAzcmVtO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlciAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG4uYXZhdGFyLXVwbG9hZCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBtYXgtd2lkdGg6IDIwNXB4O1xyXG59XHJcbi5hdmF0YXItdXBsb2FkIC5hdmF0YXItZWRpdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMTJweDtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICB0b3A6IDEwcHg7XHJcbn1cclxuLmF2YXRhci11cGxvYWQgLmF2YXRhci1lZGl0IGlucHV0IHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLmF2YXRhci11cGxvYWQgLmF2YXRhci1lZGl0IGlucHV0ICsgbGFiZWwge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDM0cHg7XHJcbiAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJveC1zaGFkb3c6IDBweCAycHggNHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0O1xyXG59XHJcbi5hdmF0YXItdXBsb2FkIC5hdmF0YXItZWRpdCBpbnB1dCArIGxhYmVsOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNmMWYxZjE7XHJcbiAgICBib3JkZXItY29sb3I6ICNkNmQ2ZDY7XHJcbn1cclxuLmF2YXRhci11cGxvYWQgLmF2YXRhci1lZGl0IGlucHV0ICsgbGFiZWw6YWZ0ZXIge1xyXG4gICAgY29udGVudDogXCJcXGYwNDBcIjtcclxuICAgIGZvbnQtZmFtaWx5OiAnRm9udEF3ZXNvbWUnO1xyXG4gICAgY29sb3I6ICM3NTc1NzU7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwcHg7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxuLmF2YXRhci11cGxvYWQgLmF2YXRhci1wcmV2aWV3IHtcclxuICAgIHdpZHRoOiAxOTJweDtcclxuICAgIGhlaWdodDogMTkycHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgYm9yZGVyOiA2cHggc29saWQgI2Y4ZjhmODtcclxuICAgIGJveC1zaGFkb3c6IDBweCAycHggNHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuLmF2YXRhci11cGxvYWQgLmF2YXRhci1wcmV2aWV3ID4gZGl2IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgXHJcbn1cclxuXHJcblxyXG4ucHJvZmlsZS1pbm5lci1ib3gge1xyXG4gICAgbWFyZ2luOiAyLjNyZW07XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgcGFkZGluZzogMS43cmVtO1xyXG4gICAgYm94LXNoYWRvdzogMXB4IDFweCAxMnB4IDFweCAjMDAwMDAwMjE7XHJcbiAgICBib3JkZXItcmFkaXVzOiA3cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG59XHJcbi5wcm9maWxlLWlubmVyLWJveCBoMyB7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgZm9udC1zaXplOiAxN3B4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogYmx1ZTtcclxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuLmZvcm0tZ3JvdXAgc3BhbntcclxuICAgIHdpZHRoOjQ4JTtcclxufVxyXG4uZm9ybS1ncm91cC5kLWZsZXh7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtcclxufVxyXG4ucHJvZmlsZS1pbm5lci1ib3ggYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0ODM0ZDQ7XHJcbiAgICBjb2xvcjogdmFyKC0tbG9naW5TdWJtaXRDb2xvcik7XHJcbiAgICBmb250LXdlaWdodDogNTUwO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIHBhZGRpbmc6IDExcHggMzBweDtcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbn1cclxuLmZ1bGwtd2lkdGh7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","ProfileComponent","constructor","fb","userService","router","dataService","ngOnInit","userId","localStorage","getItem","profileForm","group","student_id","first_name","required","last_name","phone","email","country_id","city_id","profile_pic","how_many","getProfile","onChangeImage","event","reader","FileReader","target","files","length","file","readAsDataURL","onload","profileImgUrl","result","get","patchValue","data","FormData","append","subscribe","res","userDetails","getCountries","onChangeCountry","onChangeCity","updateProfile","updateError","updateSuccess","isLoading","submited","invalid","markAllAsTouched","value","keys","Object","forEach","key","updateSellerProfile","status","getUpdatedUserInfo","setTimeout","navigate","message","error","getControls","controls","isEdit","countries","universities","cities","getCities","getUniversities","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\saisu\\Desktop\\abroadbuddy-main\\abroadbuddy-main\\src\\app\\all-modules\\seller-pages\\accounts\\profile\\profile.component.ts","C:\\Users\\saisu\\Desktop\\abroadbuddy-main\\abroadbuddy-main\\src\\app\\all-modules\\seller-pages\\accounts\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit} from '@angular/core';\nimport { FormGroup,FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from 'src/app/core/services';\nimport { DataService } from 'src/app/shared/services';\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n  profileForm:FormGroup;\n\n  submited: boolean; \n  isLoading:boolean; \n  updateError = ''; \n  updateSuccess = '';\n  userId:any ='';\n  countries:any = [];\n  cities:any = [];\n  universities:any = [];\n  constructor(private fb: FormBuilder, private userService: UserService, private router:Router, private dataService:DataService) { }\n  ngOnInit(): void {\n    this.userId = localStorage.getItem('userId');\n    this.profileForm = this.fb.group({\n          student_id:[this.userId],\n          first_name:['', Validators.required],\n          last_name:['', Validators.required],\n          phone:['', Validators.required],\n          email:['', [Validators.required, Validators.email]],\n          country_id :[''], \n          city_id :[''], \n          profile_pic:['',],\n          how_many:['', Validators.required],\n    });\n    \n    this.getProfile();\n  }\n\n  userDetails:any = {};\n  profileImgUrl:any = \"http://dairysystem.in/Buddy/admin/uploads/student/no_image.png\";\n   // Image Preview\n   onChangeImage(event:any) {\n    const reader = new FileReader();\n    \n    if(event.target.files && event.target.files.length) {\n      const [file] = event.target.files;\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n   \n        this.profileImgUrl = reader.result as string;\n        this.profileForm.get('profile_pic')?.patchValue(event.target.files[0])\n      };\n   \n    }\n  }\n  getProfile(){\n    let data = new FormData();\n    data.append('student_id', this.userId)\n    this.userService.getProfile(data).subscribe((res:any)=>{\n     this.userDetails = res?.data?res?.data:{};\n     this.profileForm.patchValue(this.userDetails);\n     this.profileImgUrl = this.userDetails?.profile_pic?this.userDetails?.profile_pic:this.profileImgUrl;  \n     this.getCountries(true);\n     this.onChangeCountry(true);\n     this.onChangeCity(true);\n    })\n  }\n\n\n  updateProfile(){\n    this.updateError = \"\";\n    this.updateSuccess = \"\";\n    this.isLoading = true;\n    this.submited = true;\n\n    if(this.profileForm.invalid){\n      this.updateError = \"All fields are required*\";\n      this.profileForm.markAllAsTouched();\n      this.isLoading = false;\n      return;\n    }\n\n    \n    let value = this.profileForm.value;\n    let keys = Object.keys(value);\n\n    let data = new FormData();\n    keys.forEach(key=>{\n      data.append(key, value[key]);\n    })\n\n    this.userService.updateSellerProfile(data).subscribe((res:any)=>{\n      if(res?.status == '200'){\n        this.dataService.getUpdatedUserInfo();\n        this.updateSuccess = \"Profile updated successfully. Redirecting...\";\n        setTimeout(()=>{\n            this.router.navigate(['/seller/advertise/post-add']);\n           this.isLoading = false;\n        }, 1500)\n\n      }else{\n        this.isLoading = false;\n        this.updateError = res?.message?res?.message:'Something went wrong, try again';\n      }\n    }, error=>{\n      this.updateError = 'Something went wrong, try again';\n      this.isLoading = false;\n    })\n\n  }\n  \n  get getControls(){\n    return this.profileForm.controls;\n  }\n\n  getCountries(isEdit:boolean = false){\n    this.userService.getCountries().subscribe((res:any)=>{\n      this.countries = res?.data?res?.data:[];\n    })\n  }\n\n  onChangeCountry(isEdit:boolean = false){\n    if(!isEdit){\n      this.profileForm.get('city_id')?.patchValue('');\n      this.profileForm.get('university_id')?.patchValue('');\n      this.universities = [];\n    }\n    this.cities = [];\n    let data = new FormData();\n    data.append('country_id', this.profileForm.get('country_id')?.value);\n    this.userService.getCities(data).subscribe((res:any)=>{\n      this.cities = res?.data?res?.data:[];\n    }); \n  }\n\n  onChangeCity(isEdit:boolean = false){\n    if(!isEdit){\n      this.profileForm.get('university_id')?.patchValue('');\n      this.universities = [];\n    }\n     let data = new FormData();\n     data.append('city_id', this.profileForm.get('city_id')?.value);\n     this.userService.getUniversities(data).subscribe((res:any)=>{\n       this.universities = res?.data?res?.data:[];\n     }); \n  }\n\n\n}\n","<section style=\"background:url(assets/image/bgimage.jpeg);\" class=\"profileNAV\">\n    <div class=\"container\">\n        <div class=\"row\">\n           <div class=\"col-md-12\">\n              <div class=\"profile-inner-box\">\n                 <form  [formGroup]=\"profileForm\" (ngSubmit)=\"updateProfile()\">\n                    <div class=\"row\">\n                       \n                       <div class=\"col-md-3\">\n                        <div class=\"avatar-upload\">\n                            <div class=\"avatar-edit\">\n                                <input type='file' id=\"imageUpload\" accept=\".png, .jpg, .jpeg\" (change)=\"onChangeImage($event)\" />\n                                <label for=\"imageUpload\"></label>\n                            </div>\n                            <div class=\"avatar-preview\">\n                                <div id=\"imagePreview\" [ngStyle]=\"{background: 'url(' + profileImgUrl + ')'}\">\n                                </div>\n                            </div>\n                        </div>\n                       </div>\n                       \n                       <div class=\"col-md-9\">\n\n                        <div class=\"row\">\n                           <div class=\"col-md-12\" *ngIf=\"updateError || updateSuccess\">\n                              <p class=\"text-danger\"  *ngIf=\"updateError\">{{updateError}}</p>\n                              <p class=\"text-success\"  *ngIf=\"updateSuccess\">{{updateSuccess}}</p>\n                             </div>\n                            <h3> Information </h3>\n                         <div class=\"form-group col-md-6 mb-3\">\n                           <label> First Name </label>\n                           <input type=\"\" class=\"form-control\" for=\"\" name=\"\" placeholder=\"\" formControlName=\"first_name\" [ngClass]=\"((submited || getControls?.first_name?.touched) && getControls?.first_name?.errors)?'invalid-input':''\">\n                         </div>\n                         <div class=\"form-group col-md-6 mb-3\">\n                            <label> Last Name </label>\n                            <input type=\"\" class=\"form-control\" for=\"\" name=\"\" placeholder=\"\" formControlName=\"last_name\" [ngClass]=\"((submited || getControls?.last_name?.touched) && getControls?.last_name?.errors)?'invalid-input':''\">\n                          </div>\n                         \n                          <div class=\"form-group col-md-6 mb-3\">\n                            <label> Email </label>\n                            <input type=\"email\" class=\"form-control\" for=\"\" name=\"\" placeholder=\"\" formControlName=\"email\" [ngClass]=\"((submited || getControls?.email?.touched) && getControls?.email?.errors)?'invalid-input':''\">\n                          </div>\n                          <div class=\"form-group col-md-6 mb-3\">\n                            <label> Phone Number </label>\n                            <input type=\"text\" class=\"form-control\" for=\"\" name=\"\" placeholder=\"\" formControlName=\"phone\" [ngClass]=\"((submited || getControls?.phone?.touched) && getControls?.phone?.errors)?'invalid-input':''\">\n                          </div>\n                          \n\n                         \n\n                       \n                        <div class=\"form-group col-md-6 mb-3\">\n                           <label>Country</label>\n                           <select class=\"form-control\" formControlName=\"country_id\" (change)=\"onChangeCountry()\">\n                              <option value=\"\"> Select Country </option>\n                              <option [value]=\"country?.country_id\" *ngFor=\"let country of countries;\"> {{country?.name}} </option>\n                          </select>\n                       </div>\n                        <div class=\"form-group col-md-6 mb-3\">\n                           <label>City</label>\n                           <select class=\"form-control\" formControlName=\"city_id\"  >\n                              <option value=\"\"> Select City </option>\n                              <option [value]=\"city?.city_id\" *ngFor=\"let city of cities;\"> {{city?.name}} </option>\n                           </select>\n                        </div>\n                        <div class=\"form-group col-md-12 mb-3\">\n                            <label>How many years you benn residence of that city?</label>\n                            <input  type=\"text\" name=\"how_many\" class=\"form-control\" placeholder=\"How many years you benn residence of that city?\" required  formControlName=\"how_many\" [ngClass]=\"((submited || getControls?.how_many?.touched) && getControls?.how_many?.errors)?'invalid-input':''\">\n                          </div>\n                        \n\n                       \n                        <!-- <div class=\"form-group col-md-12\">\n                            <label> Bio</label>\n                            <textarea class=\"form-control\" formControlName=\"bio\" [ngClass]=\"((submited || getControls?.bio?.touched) && getControls?.bio?.errors)?'invalid-input':''\"></textarea>\n                        </div> -->\n                        <div class=\"col-md-12\">\n                           <button type=\"submit\" value=\"Submit\" class=\"full-width\"> Post Add </button>\n                        </div>\n                        </div>\n                       </div>\n                    </div>\n                 </form>\n              </div>\n           </div>\n        </div>\n    </div>\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}