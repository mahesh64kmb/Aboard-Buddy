{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/services\";\nimport * as i3 from \"src/app/shared/services\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction PostCarpoolComponent_div_9_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.updateError);\n  }\n}\nfunction PostCarpoolComponent_div_9_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.updateSuccess);\n  }\n}\nfunction PostCarpoolComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtemplate(1, PostCarpoolComponent_div_9_p_1_Template, 2, 1, \"p\", 26);\n    i0.ɵɵtemplate(2, PostCarpoolComponent_div_9_p_2_Template, 2, 1, \"p\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.updateError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.updateSuccess);\n  }\n}\nexport class PostCarpoolComponent {\n  constructor(fb, userService, dataService, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this.dataService = dataService;\n    this.router = router;\n    this.updateError = '';\n    this.updateSuccess = '';\n    this.userId = '';\n    this.userDetails = {};\n    this.cities = [];\n  }\n  ngOnInit() {\n    this.userId = localStorage.getItem('userId');\n    this.postTripForm = this.fb.group({\n      student_id: [this.userId, Validators.required],\n      location: ['', Validators.required],\n      driving_experience: ['', Validators.required],\n      smoking_habit: ['', Validators.required],\n      consumed_alcohol: ['', Validators.required],\n      no_of_passengers: ['', Validators.required],\n      car_description: ['', Validators.required],\n      leave_notes: ['', [Validators.required]]\n    });\n    this.userDetails = this.dataService.getUserDetails().subscribe(res => {\n      if (res) {\n        this.userDetails = res;\n        if (this.userDetails?.country_id) {\n          // this.getCities();\n        }\n      }\n    });\n  }\n  ngOnDestroy() {\n    if (this.userSubscription) {\n      this.userSubscription.unsubscribe();\n    }\n  }\n  getCities() {\n    this.cities = [];\n    let data = new FormData();\n    data.append('country_id', this.userDetails?.country_id);\n    this.userService.getCities(data).subscribe(res => {\n      this.cities = res?.data ? res?.data : [];\n    });\n  }\n  get getControls() {\n    return this.postTripForm.controls;\n  }\n  postTrip() {\n    this.updateError = \"\";\n    this.updateSuccess = \"\";\n    this.isLoading = true;\n    this.submited = true;\n    console.log('this.postTripForm', this.postTripForm.value);\n    if (this.postTripForm.invalid) {\n      this.updateError = \"All fields are required*\";\n      this.postTripForm.markAllAsTouched();\n      this.isLoading = false;\n      return;\n    }\n    let value = this.postTripForm.value;\n    let keys = Object.keys(value);\n    let data = new FormData();\n    keys.forEach(key => {\n      data.append(key, value[key]);\n    });\n    this.userService.postPartyCarPool(data).subscribe(res => {\n      if (res?.status == '200') {\n        this.updateSuccess = \"Party Carpool post added successfully...\";\n        setTimeout(() => {\n          this.router.navigate(['/trips/party-car-pool-list']);\n          this.isLoading = false;\n        }, 1500);\n      } else {\n        this.isLoading = false;\n        this.updateError = res?.message ? res?.message : 'Something went wrong, try again';\n      }\n    }, error => {\n      this.updateError = 'Something went wrong, try again';\n      this.isLoading = false;\n    });\n  }\n}\nPostCarpoolComponent.ɵfac = function PostCarpoolComponent_Factory(t) {\n  return new (t || PostCarpoolComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.DataService), i0.ɵɵdirectiveInject(i4.Router));\n};\nPostCarpoolComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostCarpoolComponent,\n  selectors: [[\"app-post-carpool\"]],\n  decls: 70,\n  vars: 9,\n  consts: [[1, \"container\"], [1, \"row\"], [3, \"formGroup\", \"ngSubmit\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"col-md-12\", \"col-sm-12\"], [\"type\", \"text\", \"placeholder\", \"Location\", \"formControlName\", \"location\", 1, \"form-control\", 3, \"ngClass\"], [1, \"col-md-6\", \"col-sm-6\"], [\"formControlName\", \"smoking_habit\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"\"], [\"value\", \"Yes\"], [\"value\", \"No\"], [\"formControlName\", \"consumed_alcohol\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"Small\"], [\"formControlName\", \"driving_experience\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"formControlName\", \"no_of_passengers\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"6\"], [\"value\", \"7\"], [\"rows\", \"1\", \"placeholder\", \"Car Description\", \"formControlName\", \"car_description\", 1, \"form-control\", 3, \"ngClass\"], [\"cols\", \"30\", \"rows\", \"5\", \"placeholder\", \"Leave a special notes\", \"formControlName\", \"leave_notes\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"full-width\"], [1, \"col-md-12\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"]],\n  template: function PostCarpoolComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\")(1, \"div\", 0)(2, \"div\", 1)(3, \"h2\");\n      i0.ɵɵtext(4, \"POST A TRIP\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function PostCarpoolComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.postTrip();\n      });\n      i0.ɵɵelementStart(7, \"div\", 0)(8, \"div\", 1);\n      i0.ɵɵtemplate(9, PostCarpoolComponent_div_9_Template, 3, 2, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"div\", 4);\n      i0.ɵɵelement(12, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"select\", 7)(15, \"option\", 8);\n      i0.ɵɵtext(16, \"Smoking Habit?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 9);\n      i0.ɵɵtext(18, \"Yes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"option\", 10);\n      i0.ɵɵtext(20, \"No\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 6)(22, \"select\", 11)(23, \"option\", 8);\n      i0.ɵɵtext(24, \"Consumed Alcohol? \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\", 9);\n      i0.ɵɵtext(26, \"Yes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"option\", 10);\n      i0.ɵɵtext(28, \"No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"option\", 12);\n      i0.ɵɵtext(30, \"Small\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 6)(32, \"select\", 13)(33, \"option\", 8);\n      i0.ɵɵtext(34, \"How many years of driving experience\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"option\", 14);\n      i0.ɵɵtext(36, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"option\", 15);\n      i0.ɵɵtext(38, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"option\", 16);\n      i0.ɵɵtext(40, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"option\", 17);\n      i0.ɵɵtext(42, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"option\", 18);\n      i0.ɵɵtext(44, \"5\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"div\", 6)(46, \"select\", 19)(47, \"option\", 8);\n      i0.ɵɵtext(48, \"No of passengers required\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"option\", 14);\n      i0.ɵɵtext(50, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"option\", 15);\n      i0.ɵɵtext(52, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"option\", 16);\n      i0.ɵɵtext(54, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\", 17);\n      i0.ɵɵtext(56, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"option\", 18);\n      i0.ɵɵtext(58, \"5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"option\", 20);\n      i0.ɵɵtext(60, \"6\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"option\", 21);\n      i0.ɵɵtext(62, \"7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"div\", 4);\n      i0.ɵɵelement(64, \"textarea\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"div\", 4);\n      i0.ɵɵelement(66, \"textarea\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"div\", 4)(68, \"button\", 24);\n      i0.ɵɵtext(69, \"POST PARTY CARPOOL\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.postTripForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.updateError || ctx.updateSuccess);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.location == null ? null : ctx.getControls.location.touched)) && (ctx.getControls == null ? null : ctx.getControls.location == null ? null : ctx.getControls.location.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.smoking_habit == null ? null : ctx.getControls.smoking_habit.touched)) && (ctx.getControls == null ? null : ctx.getControls.smoking_habit == null ? null : ctx.getControls.smoking_habit.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.consumed_alcohol == null ? null : ctx.getControls.consumed_alcohol.touched)) && (ctx.getControls == null ? null : ctx.getControls.consumed_alcohol == null ? null : ctx.getControls.consumed_alcohol.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.driving_experience == null ? null : ctx.getControls.driving_experience.touched)) && (ctx.getControls == null ? null : ctx.getControls.driving_experience == null ? null : ctx.getControls.driving_experience.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.no_of_passengers == null ? null : ctx.getControls.no_of_passengers.touched)) && (ctx.getControls == null ? null : ctx.getControls.no_of_passengers == null ? null : ctx.getControls.no_of_passengers.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.car_description == null ? null : ctx.getControls.car_description.touched)) && (ctx.getControls == null ? null : ctx.getControls.car_description == null ? null : ctx.getControls.car_description.errors) ? \"invalid-input\" : \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", (ctx.submited || (ctx.getControls == null ? null : ctx.getControls.leave_notes == null ? null : ctx.getControls.leave_notes.touched)) && (ctx.getControls == null ? null : ctx.getControls.leave_notes == null ? null : ctx.getControls.leave_notes.errors) ? \"invalid-input\" : \"\");\n    }\n  },\n  dependencies: [i5.NgClass, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding-top: 30px;\\n}\\n\\nform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], label[_ngcontent-%COMP%] {\\n    margin: 10px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n    width: 200px;\\n    margin: 20px;\\n    margin-top: 10px;\\n    margin-bottom: 50px;\\n    background: #4E6E81;\\n    border: none;\\n}\\n.full-width[_ngcontent-%COMP%]{\\n    width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxsLW1vZHVsZXMvcGFnZXMvdHJpcHMvcG9zdC1jYXJwb29sL3Bvc3QtY2FycG9vbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtBQUNyQjs7QUFFQTs7OztJQUlJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7QUFDQTtJQUNJLFdBQVc7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbImgyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZy10b3A6IDMwcHg7XG59XG5cbmZvcm0gaW5wdXQsXG5zZWxlY3QsXG4uZm9ybS1jb250cm9sLFxubGFiZWwge1xuICAgIG1hcmdpbjogMTBweDtcbn1cblxuLmJ0biB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIG1hcmdpbjogMjBweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDUwcHg7XG4gICAgYmFja2dyb3VuZDogIzRFNkU4MTtcbiAgICBib3JkZXI6IG5vbmU7XG59XG4uZnVsbC13aWR0aHtcbiAgICB3aWR0aDogMTAwJTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","PostCarpoolComponent","constructor","fb","userService","dataService","router","ngOnInit","userId","localStorage","getItem","postTripForm","group","student_id","required","location","driving_experience","smoking_habit","consumed_alcohol","no_of_passengers","car_description","leave_notes","userDetails","getUserDetails","subscribe","res","country_id","ngOnDestroy","userSubscription","unsubscribe","getCities","cities","data","FormData","append","getControls","controls","postTrip","updateError","updateSuccess","isLoading","submited","console","log","value","invalid","markAllAsTouched","keys","Object","forEach","key","postPartyCarPool","status","setTimeout","navigate","message","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\saisu\\Desktop\\abroadbuddy-main\\abroadbuddy-main\\src\\app\\all-modules\\pages\\trips\\post-carpool\\post-carpool.component.ts","C:\\Users\\saisu\\Desktop\\abroadbuddy-main\\abroadbuddy-main\\src\\app\\all-modules\\pages\\trips\\post-carpool\\post-carpool.component.html"],"sourcesContent":["import { Component, OnInit} from '@angular/core';\nimport { FormGroup,FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from 'src/app/core/services';\nimport { DataService } from 'src/app/shared/services';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-post-carpool',\n  templateUrl: './post-carpool.component.html',\n  styleUrls: ['./post-carpool.component.css']\n})\nexport class PostCarpoolComponent {\n  postTripForm:FormGroup;\n  \n  submited: boolean; \n  isLoading:boolean; \n  updateError = ''; \n  updateSuccess = '';\n  userId:any ='';\n  userDetails:any={};\n  userSubscription:Subscription;  \n  cities:any=[];\n\n  constructor(private fb: FormBuilder, private userService: UserService,  private dataService:DataService, private router:Router) { }\n  ngOnInit(): void {\n    this.userId = localStorage.getItem('userId');\n    this.postTripForm = this.fb.group({\n          student_id:[this.userId, Validators.required],\n          location :['', Validators.required], \n          driving_experience :['', Validators.required], \n          smoking_habit:['', Validators.required],\n          consumed_alcohol:['', Validators.required],\n          no_of_passengers:['', Validators.required],\n          car_description:['', Validators.required],\n          leave_notes:['', [Validators.required]],\n    });\n    this.userDetails = this.dataService.getUserDetails().subscribe((res:any)=>{\n      if(res){\n        this.userDetails = res;\n        if(this.userDetails?.country_id){\n          // this.getCities();\n        }\n      }\n    })\n  }\n\n  ngOnDestroy(){\n    if(this.userSubscription){this.userSubscription.unsubscribe()}\n  }\n\n  getCities(){\n    this.cities = [];\n    let data = new FormData();\n    data.append('country_id', this.userDetails?.country_id);\n    this.userService.getCities(data).subscribe((res:any)=>{\n      this.cities = res?.data?res?.data:[];\n    }); \n  }\n\n  get getControls(){\n    return this.postTripForm.controls;\n  }\n\n  \n\n  postTrip(){\n    this.updateError   = \"\";\n    this.updateSuccess = \"\";\n    this.isLoading     = true;\n    this.submited      = true;\n    console.log('this.postTripForm', this.postTripForm.value)\n    if(this.postTripForm.invalid){\n      this.updateError = \"All fields are required*\";\n      this.postTripForm.markAllAsTouched();\n      this.isLoading = false;\n      return;\n    }\n\n    let value = this.postTripForm.value;\n    let keys = Object.keys(value);\n\n    let data = new FormData();\n    keys.forEach(key=>{\n      data.append(key, value[key]);\n    })\n\n    this.userService.postPartyCarPool(data).subscribe((res:any)=>{\n      if(res?.status == '200'){\n        this.updateSuccess = \"Party Carpool post added successfully...\";\n        setTimeout(()=>{\n          this.router.navigate(['/trips/party-car-pool-list']);\n           this.isLoading = false;\n        }, 1500)\n\n      }else{\n        this.isLoading = false;\n        this.updateError = res?.message?res?.message:'Something went wrong, try again';\n      }\n    }, error=>{\n      this.updateError = 'Something went wrong, try again';\n      this.isLoading = false;\n    })\n\n  }\n}\n","<section>\n    <div class=\"container\">\n        <div class=\"row\">\n            <h2>POST A TRIP</h2>\n        </div>\n        <div class=\"row\">\n            <form [formGroup]=\"postTripForm\" (ngSubmit)=\"postTrip()\">\n                <div class=\"container\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12\" *ngIf=\"updateError || updateSuccess\">\n                            <p class=\"text-danger\"  *ngIf=\"updateError\">{{updateError}}</p>\n                            <p class=\"text-success\"  *ngIf=\"updateSuccess\">{{updateSuccess}}</p>\n                        </div>\n\n                        <!-- <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"trip_from\" [ngClass]=\"((submited || getControls?.trip_from?.touched) && getControls?.trip_from?.errors)?'invalid-input':''\" >\n                                <option value=\"\"> Select From City </option>\n                                <option [value]=\"city?.city_id\" *ngFor=\"let city of cities;\"> {{city?.name}} </option>\n                             </select>\n                        </div>\n                        <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"trip_to\" [ngClass]=\"((submited || getControls?.trip_to?.touched) && getControls?.trip_to?.errors)?'invalid-input':''\">\n                                <option value=\"\"> Select To City </option>\n                                <option [value]=\"city?.city_id\" *ngFor=\"let city of cities;\"> {{city?.name}} </option>\n                             </select>\n                        </div> -->\n                       \n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-12 col-sm-12\">\n                            <input type=\"text\" class=\"form-control\" placeholder=\"Location\" formControlName=\"location\" [ngClass]=\"((submited || getControls?.location?.touched) && getControls?.location?.errors)?'invalid-input':''\">\n                        </div>\n\n                        <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"smoking_habit\" [ngClass]=\"((submited || getControls?.smoking_habit?.touched) && getControls?.smoking_habit?.errors)?'invalid-input':''\">\n                                <option value=\"\">Smoking Habit?</option>\n                                <option value=\"Yes\">Yes</option>\n                                <option value=\"No\">No</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"consumed_alcohol\" [ngClass]=\"((submited || getControls?.consumed_alcohol?.touched) && getControls?.consumed_alcohol?.errors)?'invalid-input':''\">\n                                <option value=\"\">Consumed Alcohol? </option>\n                                <option value=\"Yes\">Yes</option>\n                                <option value=\"No\">No</option>\n                                <option value=\"Small\">Small</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"driving_experience\" [ngClass]=\"((submited || getControls?.driving_experience?.touched) && getControls?.driving_experience?.errors)?'invalid-input':''\">\n                                <option value=\"\">How many years of driving experience</option>\n                                <option value=\"1\">1</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"3\">3</option>\n                                <option value=\"4\">4</option>\n                                <option value=\"5\">5</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-6 col-sm-6\">\n                            <select class=\"form-select\" formControlName=\"no_of_passengers\" [ngClass]=\"((submited || getControls?.no_of_passengers?.touched) && getControls?.no_of_passengers?.errors)?'invalid-input':''\">\n                                <option value=\"\">No  of passengers required</option>\n                                <option value=\"1\">1</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"3\">3</option>\n                                <option value=\"4\">4</option>\n                                <option value=\"5\">5</option>\n                                <option value=\"6\">6</option>\n                                <option value=\"7\">7</option>\n                                <!-- <option value=\"8\">8</option> -->\n                                <!-- <option value=\"9\">9</option> -->\n                            </select>\n                        </div>\n                        <div class=\"col-md-12 col-sm-12\">\n                            <textarea class=\"form-control\" rows=\"1\" placeholder=\"Car Description\" formControlName=\"car_description\" [ngClass]=\"((submited || getControls?.car_description?.touched) && getControls?.car_description?.errors)?'invalid-input':''\"></textarea>\n                        </div>\n                        <div class=\"col-md-12 col-sm-12\">\n                            <textarea class=\"form-control\" cols=\"30\" rows=\"5\" placeholder=\"Leave a special notes\" formControlName=\"leave_notes\" [ngClass]=\"((submited || getControls?.leave_notes?.touched) && getControls?.leave_notes?.errors)?'invalid-input':''\"></textarea>\n                        </div>\n                        <div class=\"col-md-12 col-sm-12\">\n                            <button type=\"submit\" class=\"btn btn-primary full-width\">POST PARTY CARPOOL</button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}