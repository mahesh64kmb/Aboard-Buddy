{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport class AuthGuard {\n  constructor(route) {\n    this.route = route;\n  }\n  canActivate(route, state) {\n    return this.isAuthorized();\n  }\n  canActivateChild(childRoute, state) {\n    return this.isAuthorized();\n  }\n  isAuthorized() {\n    let token = localStorage.getItem('userId');\n    if (token) {\n      return true;\n    } else {\n      let url = '/auth/login';\n      this.route.navigateByUrl(url, {\n        replaceUrl: true\n      });\n      return false;\n    }\n  }\n}\nAuthGuard.ɵfac = function AuthGuard_Factory(t) {\n  return new (t || AuthGuard)(i0.ɵɵinject(i1.Router));\n};\nAuthGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthGuard,\n  factory: AuthGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAOA,OAAM,MAAOA,SAAS;EACpBC,YAAoBC,KAAa;IAAb,UAAK,GAALA,KAAK;EAAY;EACrCC,WAAW,CACTD,KAA6B,EAC7BE,KAA0B;IAC1B,OAAO,IAAI,CAACC,YAAY,EAAE;EAC5B;EACAC,gBAAgB,CACdC,UAAkC,EAClCH,KAA0B;IAC1B,OAAO,IAAI,CAACC,YAAY,EAAE;EAC5B;EAEAA,YAAY;IACV,IAAIG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACxC,IAAGF,KAAK,EAAC;MACP,OAAO,IAAI;KACZ,MAAI;MACH,IAAIG,GAAG,GAAG,aAAa;MACvB,IAAI,CAACT,KAAK,CAACU,aAAa,CAACD,GAAG,EAAE;QAACE,UAAU,EAAE;MAAI,CAAC,CAAC;MACjD,OAAO,KAAK;;EAElB;;AAtBWb,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;SAATA,SAAS;EAAAc,SAATd,SAAS;EAAAe,YAFR;AAAM","names":["AuthGuard","constructor","route","canActivate","state","isAuthorized","canActivateChild","childRoute","token","localStorage","getItem","url","navigateByUrl","replaceUrl","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\saisu\\Downloads\\abroadbuddy-main\\abroadbuddy-main\\src\\app\\core\\guard\\auth.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { CanActivate, CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate, CanActivateChild {\r\n  constructor(private route: Router) { }\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return this.isAuthorized();\r\n  }\r\n  canActivateChild(\r\n    childRoute: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return this.isAuthorized();\r\n  }\r\n\r\n  isAuthorized() {\r\n    let token = localStorage.getItem('userId');\r\n      if(token){\r\n        return true;        \r\n      }else{\r\n        let url = '/auth/login';\r\n        this.route.navigateByUrl(url, {replaceUrl: true})\r\n        return false;\r\n      }\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}